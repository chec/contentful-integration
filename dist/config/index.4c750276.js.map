{"mappings":"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","sources":["node_modules/@swc/helpers/src/_async_to_generator.js","node_modules/@swc/helpers/src/_define_property.js","node_modules/@swc/helpers/src/_object_spread.js","node_modules/@swc/helpers/src/_to_consumable_array.js","node_modules/@swc/helpers/src/_array_without_holes.js","node_modules/@swc/helpers/src/_iterable_to_array.js","node_modules/@swc/helpers/src/_non_iterable_spread.js","node_modules/regenerator-runtime/runtime.js","node_modules/postmate/build/postmate.es.js","node_modules/@chec/integration-configuration-sdk/index.js","configuration-app/index.ts"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","import defineProperty from './_define_property';\n\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import arrayWithoutHoles from './_array_without_holes';\nimport iterableToArray from './_iterable_to_array';\nimport nonIterableSpread from './_non_iterable_spread';\n\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/**\n  postmate - A powerful, simple, promise-based postMessage library\n  @version v1.5.2\n  @link https://github.com/dollarshaveclub/postmate\n  @author Jacob Kelley <jakie8@gmail.com>\n  @license MIT\n**/\n/**\n * The type of messages our frames our sending\n * @type {String}\n */\nvar messageType = 'application/x-postmate-v1+json';\n/**\n * The maximum number of attempts to send a handshake request to the parent\n * @type {Number}\n */\n\nvar maxHandshakeRequests = 5;\n/**\n * A unique message ID that is used to ensure responses are sent to the correct requests\n * @type {Number}\n */\n\nvar _messageId = 0;\n/**\n * Increments and returns a message ID\n * @return {Number} A unique ID for a message\n */\n\nvar generateNewMessageId = function generateNewMessageId() {\n  return ++_messageId;\n};\n/**\n * Postmate logging function that enables/disables via config\n * @param  {Object} ...args Rest Arguments\n */\n\nvar log = function log() {\n  var _console;\n\n  return Postmate.debug ? (_console = console).log.apply(_console, arguments) : null;\n}; // eslint-disable-line no-console\n\n/**\n * Takes a URL and returns the origin\n * @param  {String} url The full URL being requested\n * @return {String}     The URLs origin\n */\n\nvar resolveOrigin = function resolveOrigin(url) {\n  var a = document.createElement('a');\n  a.href = url;\n  var protocol = a.protocol.length > 4 ? a.protocol : window.location.protocol;\n  var host = a.host.length ? a.port === '80' || a.port === '443' ? a.hostname : a.host : window.location.host;\n  return a.origin || protocol + \"//\" + host;\n};\nvar messageTypes = {\n  handshake: 1,\n  'handshake-reply': 1,\n  call: 1,\n  emit: 1,\n  reply: 1,\n  request: 1\n  /**\n   * Ensures that a message is safe to interpret\n   * @param  {Object} message The postmate message being sent\n   * @param  {String|Boolean} allowedOrigin The whitelisted origin or false to skip origin check\n   * @return {Boolean}\n   */\n\n};\nvar sanitize = function sanitize(message, allowedOrigin) {\n  if (typeof allowedOrigin === 'string' && message.origin !== allowedOrigin) return false;\n  if (!message.data) return false;\n  if (typeof message.data === 'object' && !('postmate' in message.data)) return false;\n  if (message.data.type !== messageType) return false;\n  if (!messageTypes[message.data.postmate]) return false;\n  return true;\n};\n/**\n * Takes a model, and searches for a value by the property\n * @param  {Object} model     The dictionary to search against\n * @param  {String} property  A path within a dictionary (i.e. 'window.location.href')\n * @param  {Object} data      Additional information from the get request that is\n *                            passed to functions in the child model\n * @return {Promise}\n */\n\nvar resolveValue = function resolveValue(model, property) {\n  var unwrappedContext = typeof model[property] === 'function' ? model[property]() : model[property];\n  return Postmate.Promise.resolve(unwrappedContext);\n};\n/**\n * Composes an API to be used by the parent\n * @param {Object} info Information on the consumer\n */\n\nvar ParentAPI =\n/*#__PURE__*/\nfunction () {\n  function ParentAPI(info) {\n    var _this = this;\n\n    this.parent = info.parent;\n    this.frame = info.frame;\n    this.child = info.child;\n    this.childOrigin = info.childOrigin;\n    this.events = {};\n\n    if (process.env.NODE_ENV !== 'production') {\n      log('Parent: Registering API');\n      log('Parent: Awaiting messages...');\n    }\n\n    this.listener = function (e) {\n      if (!sanitize(e, _this.childOrigin)) return false;\n      /**\n       * the assignments below ensures that e, data, and value are all defined\n       */\n\n      var _ref = ((e || {}).data || {}).value || {},\n          data = _ref.data,\n          name = _ref.name;\n\n      if (e.data.postmate === 'emit') {\n        if (process.env.NODE_ENV !== 'production') {\n          log(\"Parent: Received event emission: \" + name);\n        }\n\n        if (name in _this.events) {\n          _this.events[name].call(_this, data);\n        }\n      }\n    };\n\n    this.parent.addEventListener('message', this.listener, false);\n\n    if (process.env.NODE_ENV !== 'production') {\n      log('Parent: Awaiting event emissions from Child');\n    }\n  }\n\n  var _proto = ParentAPI.prototype;\n\n  _proto.get = function get(property) {\n    var _this2 = this;\n\n    return new Postmate.Promise(function (resolve) {\n      // Extract data from response and kill listeners\n      var uid = generateNewMessageId();\n\n      var transact = function transact(e) {\n        if (e.data.uid === uid && e.data.postmate === 'reply') {\n          _this2.parent.removeEventListener('message', transact, false);\n\n          resolve(e.data.value);\n        }\n      }; // Prepare for response from Child...\n\n\n      _this2.parent.addEventListener('message', transact, false); // Then ask child for information\n\n\n      _this2.child.postMessage({\n        postmate: 'request',\n        type: messageType,\n        property: property,\n        uid: uid\n      }, _this2.childOrigin);\n    });\n  };\n\n  _proto.call = function call(property, data) {\n    // Send information to the child\n    this.child.postMessage({\n      postmate: 'call',\n      type: messageType,\n      property: property,\n      data: data\n    }, this.childOrigin);\n  };\n\n  _proto.on = function on(eventName, callback) {\n    this.events[eventName] = callback;\n  };\n\n  _proto.destroy = function destroy() {\n    if (process.env.NODE_ENV !== 'production') {\n      log('Parent: Destroying Postmate instance');\n    }\n\n    window.removeEventListener('message', this.listener, false);\n    this.frame.parentNode.removeChild(this.frame);\n  };\n\n  return ParentAPI;\n}();\n/**\n * Composes an API to be used by the child\n * @param {Object} info Information on the consumer\n */\n\nvar ChildAPI =\n/*#__PURE__*/\nfunction () {\n  function ChildAPI(info) {\n    var _this3 = this;\n\n    this.model = info.model;\n    this.parent = info.parent;\n    this.parentOrigin = info.parentOrigin;\n    this.child = info.child;\n\n    if (process.env.NODE_ENV !== 'production') {\n      log('Child: Registering API');\n      log('Child: Awaiting messages...');\n    }\n\n    this.child.addEventListener('message', function (e) {\n      if (!sanitize(e, _this3.parentOrigin)) return;\n\n      if (process.env.NODE_ENV !== 'production') {\n        log('Child: Received request', e.data);\n      }\n\n      var _e$data = e.data,\n          property = _e$data.property,\n          uid = _e$data.uid,\n          data = _e$data.data;\n\n      if (e.data.postmate === 'call') {\n        if (property in _this3.model && typeof _this3.model[property] === 'function') {\n          _this3.model[property](data);\n        }\n\n        return;\n      } // Reply to Parent\n\n\n      resolveValue(_this3.model, property).then(function (value) {\n        return e.source.postMessage({\n          property: property,\n          postmate: 'reply',\n          type: messageType,\n          uid: uid,\n          value: value\n        }, e.origin);\n      });\n    });\n  }\n\n  var _proto2 = ChildAPI.prototype;\n\n  _proto2.emit = function emit(name, data) {\n    if (process.env.NODE_ENV !== 'production') {\n      log(\"Child: Emitting Event \\\"\" + name + \"\\\"\", data);\n    }\n\n    this.parent.postMessage({\n      postmate: 'emit',\n      type: messageType,\n      value: {\n        name: name,\n        data: data\n      }\n    }, this.parentOrigin);\n  };\n\n  return ChildAPI;\n}();\n/**\n  * The entry point of the Parent.\n * @type {Class}\n */\n\nvar Postmate =\n/*#__PURE__*/\nfunction () {\n  // eslint-disable-line no-undef\n  // Internet Explorer craps itself\n\n  /**\n   * Sets options related to the Parent\n   * @param {Object} object The element to inject the frame into, and the url\n   * @return {Promise}\n   */\n  function Postmate(_ref2) {\n    var _ref2$container = _ref2.container,\n        container = _ref2$container === void 0 ? typeof container !== 'undefined' ? container : document.body : _ref2$container,\n        model = _ref2.model,\n        url = _ref2.url,\n        name = _ref2.name,\n        _ref2$classListArray = _ref2.classListArray,\n        classListArray = _ref2$classListArray === void 0 ? [] : _ref2$classListArray;\n    // eslint-disable-line no-undef\n    this.parent = window;\n    this.frame = document.createElement('iframe');\n    this.frame.name = name || '';\n    this.frame.classList.add.apply(this.frame.classList, classListArray);\n    container.appendChild(this.frame);\n    this.child = this.frame.contentWindow || this.frame.contentDocument.parentWindow;\n    this.model = model || {};\n    return this.sendHandshake(url);\n  }\n  /**\n   * Begins the handshake strategy\n   * @param  {String} url The URL to send a handshake request to\n   * @return {Promise}     Promise that resolves when the handshake is complete\n   */\n\n\n  var _proto3 = Postmate.prototype;\n\n  _proto3.sendHandshake = function sendHandshake(url) {\n    var _this4 = this;\n\n    var childOrigin = resolveOrigin(url);\n    var attempt = 0;\n    var responseInterval;\n    return new Postmate.Promise(function (resolve, reject) {\n      var reply = function reply(e) {\n        if (!sanitize(e, childOrigin)) return false;\n\n        if (e.data.postmate === 'handshake-reply') {\n          clearInterval(responseInterval);\n\n          if (process.env.NODE_ENV !== 'production') {\n            log('Parent: Received handshake reply from Child');\n          }\n\n          _this4.parent.removeEventListener('message', reply, false);\n\n          _this4.childOrigin = e.origin;\n\n          if (process.env.NODE_ENV !== 'production') {\n            log('Parent: Saving Child origin', _this4.childOrigin);\n          }\n\n          return resolve(new ParentAPI(_this4));\n        } // Might need to remove since parent might be receiving different messages\n        // from different hosts\n\n\n        if (process.env.NODE_ENV !== 'production') {\n          log('Parent: Invalid handshake reply');\n        }\n\n        return reject('Failed handshake');\n      };\n\n      _this4.parent.addEventListener('message', reply, false);\n\n      var doSend = function doSend() {\n        attempt++;\n\n        if (process.env.NODE_ENV !== 'production') {\n          log(\"Parent: Sending handshake attempt \" + attempt, {\n            childOrigin: childOrigin\n          });\n        }\n\n        _this4.child.postMessage({\n          postmate: 'handshake',\n          type: messageType,\n          model: _this4.model\n        }, childOrigin);\n\n        if (attempt === maxHandshakeRequests) {\n          clearInterval(responseInterval);\n        }\n      };\n\n      var loaded = function loaded() {\n        doSend();\n        responseInterval = setInterval(doSend, 500);\n      };\n\n      if (_this4.frame.attachEvent) {\n        _this4.frame.attachEvent('onload', loaded);\n      } else {\n        _this4.frame.onload = loaded;\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        log('Parent: Loading frame', {\n          url: url\n        });\n      }\n\n      _this4.frame.src = url;\n    });\n  };\n\n  return Postmate;\n}();\n/**\n * The entry point of the Child\n * @type {Class}\n */\n\n\nPostmate.debug = false;\n\nPostmate.Promise = function () {\n  try {\n    return window ? window.Promise : Promise;\n  } catch (e) {\n    return null;\n  }\n}();\n\nPostmate.Model =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Initializes the child, model, parent, and responds to the Parents handshake\n   * @param {Object} model Hash of values, functions, or promises\n   * @return {Promise}       The Promise that resolves when the handshake has been received\n   */\n  function Model(model) {\n    this.child = window;\n    this.model = model;\n    this.parent = this.child.parent;\n    return this.sendHandshakeReply();\n  }\n  /**\n   * Responds to a handshake initiated by the Parent\n   * @return {Promise} Resolves an object that exposes an API for the Child\n   */\n\n\n  var _proto4 = Model.prototype;\n\n  _proto4.sendHandshakeReply = function sendHandshakeReply() {\n    var _this5 = this;\n\n    return new Postmate.Promise(function (resolve, reject) {\n      var shake = function shake(e) {\n        if (!e.data.postmate) {\n          return;\n        }\n\n        if (e.data.postmate === 'handshake') {\n          if (process.env.NODE_ENV !== 'production') {\n            log('Child: Received handshake from Parent');\n          }\n\n          _this5.child.removeEventListener('message', shake, false);\n\n          if (process.env.NODE_ENV !== 'production') {\n            log('Child: Sending handshake reply to Parent');\n          }\n\n          e.source.postMessage({\n            postmate: 'handshake-reply',\n            type: messageType\n          }, e.origin);\n          _this5.parentOrigin = e.origin; // Extend model with the one provided by the parent\n\n          var defaults = e.data.model;\n\n          if (defaults) {\n            Object.keys(defaults).forEach(function (key) {\n              _this5.model[key] = defaults[key];\n            });\n\n            if (process.env.NODE_ENV !== 'production') {\n              log('Child: Inherited and extended model from Parent');\n            }\n          }\n\n          if (process.env.NODE_ENV !== 'production') {\n            log('Child: Saving Parent origin', _this5.parentOrigin);\n          }\n\n          return resolve(new ChildAPI(_this5));\n        }\n\n        return reject('Handshake Reply Failed');\n      };\n\n      _this5.child.addEventListener('message', shake, false);\n    });\n  };\n\n  return Model;\n}();\n\nexport default Postmate;\n","import Postmate from 'postmate';\n/**\n * Manages events broadcast from the dashboard and allows for attaching handlers to trigger from those events\n */\nclass EventBus {\n    constructor() {\n        this.handlers = [];\n    }\n    pushHandler(handler) {\n        this.handlers.push(handler);\n    }\n    trigger(event) {\n        this.handlers.forEach((handler) => handler(event));\n    }\n}\n/**\n * Represents a connection with the Chec dashboard when this app is rendered within the Chec dashboard, and provides\n * API to community with the dashboard.\n */\nexport class ConfigSDK {\n    constructor(childApi, eventBus) {\n        this.parent = childApi;\n        this.eventBus = eventBus;\n        // @ts-ignore\n        this.config = childApi.model.config || {};\n        this.configWatchers = [];\n        this.eventBus.pushHandler((event) => {\n            if (event.event !== 'set-config') {\n                return;\n            }\n            this.config = event.payload;\n            this.configWatchers.forEach((watcher) => watcher(this.config));\n        });\n    }\n    /**\n     * Watches for changes to the content height of the app, and updates the Chec dashboard so that the frame height\n     * will match the size of the content in the frame\n     *\n     * Returns a function that will disable the resize watcher for appropriate clean up.\n     */\n    enableAutoResize() {\n        if (!document || !document.body) {\n            throw new Error('Auto-resize can only be enabled when a document (and body) is present');\n        }\n        // Extract height calculation logic into a reusable closure\n        const calculateHeight = () => {\n            const rect = document.body.getBoundingClientRect();\n            return rect.y + rect.height;\n        };\n        // Create a resize observer to watch changes in body height\n        const observer = new ResizeObserver(() => {\n            this.setHeight(calculateHeight());\n        });\n        observer.observe(document.body);\n        // Broadcast an initial height\n        this.setHeight(calculateHeight());\n        // Return a cleanup function in-case for usage with APIs that support cleanup (eg. React useEffect)\n        return () => {\n            observer.disconnect();\n        };\n    }\n    /**\n     * Get the current config set by the user in the dashboard\n     */\n    getConfig() {\n        return this.config;\n    }\n    /**\n     * Watch for events on fields that are rendered by the Chec dashboard. Right now this only supports buttons\n     *\n     * @param {string} event The event name to watch for (eg. \"click\")\n     * @param {string} key The key of the field that the event will be triggered on (eg. \"my_button\")\n     * @param {Function} handler The function to run when the given event is fired on the given field.\n     */\n    on(event, key, handler) {\n        this.eventBus.pushHandler((candidateEvent) => {\n            if (candidateEvent.event === event\n                && candidateEvent.field\n                && candidateEvent.field.key === key) {\n                handler();\n            }\n        });\n    }\n    /**\n     * Register a function to run when configuration changes\n     */\n    onConfigUpdate(handler) {\n        this.configWatchers.push(handler);\n    }\n    /**\n     * Set the height of the frame in the Chec dashboard so that it will display all the content rendered by the app\n     */\n    setHeight(height) {\n        this.parent.emit('set-height', height.toString());\n    }\n    /**\n     * Update configuration of the integration by providing an object with values that will be merged with the existing\n     * configuration.\n     *\n     * Note the configuration is not deeply merged.\n     */\n    setConfig(config) {\n        this.parent.emit('save', config);\n    }\n    /**\n     * Update the form schema that the Chec dashboard will use to render a configuration form to the user.\n     */\n    setSchema(schema) {\n        this.parent.emit('set-schema', schema);\n    }\n}\n/**\n * Establish a connection to the Chec dashboard, and return an instance of the ConfigSDK class to provide API to\n * communicate with the dashboard.\n */\nexport const createSDK = async () => {\n    // Create an event bus to handle events\n    const bus = new EventBus();\n    return new ConfigSDK(await new Postmate.Model({\n        // Declare the \"event\" API that the dashboard can call to register events\n        event(event) {\n            bus.trigger(event);\n        }\n    }), bus);\n};\n","import { createSDK } from '@chec/integration-configuration-sdk';\n\ninterface Option {\n  value: string,\n  label: string,\n}\n\ninterface ContentfulConfig {\n  contentManagementApiKey: string\n}\n\n(async () => {\n  const sdk = await createSDK();\n\n  // Track changes over time to the API key and chosen organisation\n  let existingKey: string = '';\n\n  const baseFields = [\n    {\n      key: 'contentManagementApiKey',\n      label: 'Contentful Manangement API key',\n      type: 'short_text',\n      description: 'A Contentful Management API key is required to install the \"Commerce.js for Contentful\" app to your organisations, and configure the app on your selected spaces.',\n    },\n    {\n      key: 'environmentName',\n      label: 'Environment name',\n      type: 'short_text',\n      default: 'master',\n      description: 'The \"environment\" to install the app to in Contentful. Currently only one shared environment name is supported across all spaces. You may create multiple integrations if more environments are required.'\n    }\n  ];\n  const spacesField = {\n    key: 'selectedSpaces',\n    label: 'Contentful spaces to install to',\n    type: 'select',\n    options: [],\n    disabled: true,\n    multiselect: true,\n    required: true,\n  };\n\n  const updateSpacesDropdown = async (accessToken) => {\n    // Load spaces from Contentful\n    const response = await fetch('https://api.contentful.com/spaces', {\n      mode: 'cors',\n      headers: {\n        'Authorization': `Bearer ${accessToken}`\n      },\n    });\n\n    if (response.status !== 200) {\n      return;\n    }\n\n    const spaces = (await response.json()).items;\n\n    // Asynchronously load organisations for the dropdown, and set the schema to have these new options\n    sdk.setSchema([\n      ...baseFields,\n      {\n        ...spacesField,\n        disabled: false,\n        options: spaces.map((space) => ({\n          value: `o:${space.sys.organization.sys.id}==s:${space.sys.id}`,\n          label: space.name,\n        }))\n      }\n    ]);\n  }\n\n  const { contentManagementApiKey: initialKey } = sdk.getConfig() as ContentfulConfig;\n  if (initialKey && initialKey.length !== 0) {\n    updateSpacesDropdown(initialKey);\n  }\n\n  sdk.setSchema([...baseFields, spacesField]);\n\n  sdk.onConfigUpdate(({\n    contentManagementApiKey,\n  }: ContentfulConfig) => {\n    // Check if the key has changed and we should reset everything\n    if (existingKey === contentManagementApiKey) {\n      return;\n    }\n\n    existingKey = contentManagementApiKey;\n\n    // Reset the schema to a default state to remove existing space options\n    sdk.setSchema([...baseFields, spacesField]);\n\n    updateSpacesDropdown(existingKey)\n  });\n})();\n\n\n"],"names":["$a62506eb138c5a27$var$asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","fn","self","this","args","arguments","apply","err","undefined","obj","Object","defineProperty","enumerable","configurable","writable","target","i","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","$73170472ae5a29c1$export$2e2bcd8739ae039","arr","Array","isArray","arr2","$186eec16c21005e0$export$2e2bcd8739ae039","iter","Symbol","iterator","prototype","toString","call","from","$7e7edcd38a04474d$export$2e2bcd8739ae039","TypeError","$d5aa1df920e3f59e$export$2e2bcd8739ae039","$7205d883ff582a14$var$runtime","exports","Op","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","err1","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","state","GenStateSuspendedStart","method","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","result","value1","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","next1","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","object","key1","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","$7205d883ff582a14$exports","regeneratorRuntime","accidentalStrictMode","globalThis","Function","$75fb8b768d64c489$var$messageType","$75fb8b768d64c489$var$_messageId","$75fb8b768d64c489$var$messageTypes","handshake","emit","reply","request","$75fb8b768d64c489$var$sanitize","message","allowedOrigin","origin","data","postmate","$75fb8b768d64c489$var$ParentAPI","ParentAPI","_this","parent","frame","child","childOrigin","events","listener","e","_ref","addEventListener","_proto","get","property","_this2","$75fb8b768d64c489$var$Postmate","uid","transact","removeEventListener","postMessage","on","eventName","callback","destroy","window","parentNode","removeChild","$75fb8b768d64c489$var$ChildAPI","ChildAPI","_this3","model","parentOrigin","_e$data","unwrappedContext","$75fb8b768d64c489$var$resolveValue","Postmate","_ref2","_ref2$container","container","document","body","url","_ref2$classListArray","classListArray","createElement","classList","add","appendChild","contentWindow","contentDocument","parentWindow","sendHandshake","responseInterval","_this4","a","href","protocol","location","host","port","hostname","$75fb8b768d64c489$var$resolveOrigin","attempt","clearInterval","doSend","loaded","setInterval","attachEvent","onload","src","debug","Model","sendHandshakeReply","_this5","shake","defaults","$75fb8b768d64c489$export$2e2bcd8739ae039","$759c37b608ea7f15$var$EventBus","handlers","pushHandler","handler1","trigger","event1","handler","$759c37b608ea7f15$export$324fb396e90739bb","childApi","eventBus","config","configWatchers","event","payload","watcher","enableAutoResize","calculateHeight","rect","getBoundingClientRect","y","height","observer","ResizeObserver","setHeight","observe","disconnect","getConfig","event2","candidateEvent","field","onConfigUpdate","handler2","setConfig","setSchema","schema","$759c37b608ea7f15$export$1c4016e77a03b7db","bus","_callee1","sdk","existingKey","baseFields","spacesField","updateSpacesDropdown","ref","initialKey","_ctx1","label","description","default","options","disabled","multiselect","required","$a62506eb138c5a27$export$2e2bcd8739ae039","$parcel$interopDefault","_callee","accessToken","response","spaces","fetch","mode","headers","Authorization","_ctx","status","json","items","$d72030da0c70433e$export$2e2bcd8739ae039","map","space","sys","organization","id","contentManagementApiKey","param"],"version":3,"file":"index.4c750276.js.map"}